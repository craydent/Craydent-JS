/*/---------------------------------------------------------/*/
/*/ Craydent LLC v1.2.0                                     /*/
/*/	Copyright 2011 (http://craydent.com/about)          /*/
/*/ Dual licensed under the MIT or GPL Version 2 licenses.  /*/
/*/	(http://craydent.com/license)                       /*/
/*/---------------------------------------------------------/*/
function addObjectPrototype(a,b,c){try{!c&&Object.prototype[a]||Object.defineProperty(Object.prototype,a,{writable:!0,enumerable:!1,configurable:!0,value:b})}catch(d){error("addPrototype",d)}}function _getDimension(a,b){try{if(!a&&this.tagName.toLowerCase()=="body"){var c,d=document.body.style[b];document.body.style[b]="100%",c=document.body[b](!0),document.body.style[b]=d}return this.getClientRects&&this.getClientRects()[0][b]||this["offset"+b.capitalize()]||this["scroll"+b.capitalize()]}catch(e){if(!this.parentNode&&this!=document){var f=this.cloneNode(1),g;return f.style.visible="hidden",f.style.position="absolute",f["get"+b.capitalize()]=document.body[b],document.body.appendChild(f),g=f["get"+b.capitalize()](),f.remove(),g}return error("_getDimension",e),!1}}function Request(){try{var a;try{a=new XMLHttpRequest}catch(b){try{a=new ActiveXObject("Msxml2.XMLHTTP")}catch(b){try{a=new ActiveXObject("Microsoft.XMLHTTP")}catch(b){return null}}}return a}catch(c){error("GetAJAXHttpObject",c)}}function ajaxServerResponse(response){try{if(response.readyState==4){var objResponse={};try{objResponse=eval(response.responseText.trim())}catch(e){objResponse=eval("("+response.responseText.trim()+")")}return!objResponse||objResponse.hasErrors?!1:objResponse}return!1}catch(e){return error("ajaxServerResponse",e),!1}}function ajax(params){try{params.dataType=params.dataType||"json";if(params.dataType.toLowerCase()=="jsonp"){var head=document.getElementsByTagName("head")[0],func="_cjson"+Math.floor(Math.random()*1e6);while(window[func])func="_cjson"+Math.floor(Math.random()*1e6);params.onsuccess=params.onsuccess||function(){},window[func]=function(a){params.onsuccess(a)},params.query&&params.query.isObject()&&(params.query=params.query.toStringAlt("=","&")),params.url+=(params.url.indexOf("?")!=-1?"&":"?")+"callback="+func+(params.query||"");var insert="insertBefore",tag=document.createElement("script");tag.type="text/javascript",tag.async="async",tag.src=params.url,tag.onload=tag.onreadystatechange=function(){try{if(!this.readyState||/complete|loaded/.test(this.readyState))this.onload=this.onreadystatechange=null,head&&this.parentNode&&IEVersion()==-1&&head.removeChild(this),delete this}catch(a){error("ajax.tag.statechange",a)}},head[insert](tag,head.firstChild)}else{var httpRequest=new Request,fileUpload=httpRequest.upload||{};params.method=params.method||"POST",params.headers=params.headers||Array(),params.url=params.url||"functions/controller.php",params.query&&params.query.isObject()&&(params.query=params.query.toStringAlt("=","&")),params.query=params.run?"run="+params.run+(params.query||""):params.query,params.contentType=params.contentType||"application/x-www-form-urlencoded",params.onbefore=params.onbefore||function(){},params.onstatechange=params.onstatechange||function(){},params.onsuccess=params.onsuccess||function(a){},params.onerror=params.onerror||function(a){},params.oncomplete=params.oncomplete||function(){},fileUpload.onload=params.onfileload||function(){},fileUpload.onprogress=params.onprogress||function(){},fileUpload.onabort=params.onabort||function(){},fileUpload.onerror=params.onerror||function(){},fileUpload.onloadstart=params.onloadstart||function(){},params.method=="GET"&&(params.url+="?"+params.query,params.query=undefined),params.onbefore(httpRequest,this),httpRequest.onreadystatechange=function(xp){params.onstatechange();var data=ajaxServerResponse(this);if(data)params.onsuccess(data,this.status,this);else if(this.readyState==4)try{params.onerror(eval(this.responseText),this.status,this)}catch(e){params.onerror(this.responseText,this.status,this)}params.oncomplete()},httpRequest.open(params.method,params.url,!0),httpRequest.setRequestHeader("Content-type",params.contentType);for(var i=0;i<params.headers.length;i++){var header=params.headers[i];httpRequest.setRequestHeader(header.type,header.value)}httpRequest.send(params.query)}}catch(e){error("ajax",e)}}function $GET(a,b){try{b=b||{};var c=b.ignoreCase||b=="ignoreCase"?"i":"",d=$COMMIT.update&&(b.defer||b=="defer")?!0:!1,e=new RegExp("[?|&|@]"+a+"=",c),f="search",g={};g.hash=window.location.hash,g.search=window.location.search,d&&(g.hash=$COMMIT.hash||"",g.search=$COMMIT.search||"");if(e.test(g.hash))f="hash";else if(!e.test(g.search))return!1;return e=new RegExp("(.*)?("+a+"=)(.*?)(([&]|[@])(.*)|$)",c),g[f].replace(e,"$3")}catch(h){var i="Error in _import\n"+(h.description||h);console&&console.log?console.log(i):alert(i)}}function $SET(a,b){try{if(arguments.length==3||a.isString()){var c=a;a={},a[c]=b,b=arguments[2]||{}}else b||(b={});var d=b.defer||b=="defer"?!0:!1;loc={search:window.location.search,hash:window.location.hash};if(a.isArray())for(var e=0,f=a.length;e<f;e++){var g=a[e];loc=_set(g.variable,g.value,d,b,loc)}else if(a.isObject())for(c in a){if(!a.hasOwnProperty(c))continue;loc=_set(c,a[c],d,b,loc)}d||(window.location.hash=loc.hash,window.location.search.trim()!=loc.search.trim()&&(window.location.search=loc.search))}catch(h){error("$SET",h)}}function _set(a,b,c,d,e){try{var f=d.ignoreCase||d=="ignoreCase"?"i":"",g=new RegExp("(.*)?("+a+"=)(.*?)(([&]|[@])(.*)|$)",f),h="search",i="&",j="";return h=a.indexOf("@")==0?!(i="")&&"hash":h,$COMMIT[h]=$COMMIT[h]||"",c?($COMMIT[h]=$COMMIT[h]||window.location[h],j=g.test($COMMIT[h])?$COMMIT[h].replace(g,"$1$2"+b+"$4"):$COMMIT[h]+i+a+"="+b,i=="&"&&j.indexOf("&")==0&&(j="?"+j.substring(1)),$COMMIT[h]=j,$COMMIT.update=!0):(j=g.test(e[h])?e[h].replace(g,"$1$2"+b+"$4"):e[h]+i+a+"="+b,i=="&"&&j.indexOf("&")==0&&(j="?"+j.substring(1)),e[h]=j),e}catch(k){error("_set",k)}}function $DEL(a,b){try{b=b||{};var c=b.ignoreCase||b=="ignoreCase"?"i":"",d=b.defer||b=="defer"?!0:!1,e=new RegExp("[?|&|@]"+a+"=",c),f="search";if(e.test(window.location.hash))f="hash";else if(!e.test(window.location.search))return!1;return $COMMIT[f]=$COMMIT[f]||"",e=new RegExp("([&]?|[@])("+a+"=([^&|^@]*)[&]?)",c),d?($COMMIT[f]=$COMMIT[f]||window.location[f],$COMMIT[f]=$COMMIT[f].replace(e,""),$COMMIT.update=!0):window.location[f]=window.location[f].replace(e,""),!0}catch(g){error("$DEL",g)}}function $COMMIT(){$COMMIT.update&&($COMMIT.search?window.location.href=$COMMIT.search+$COMMIT.hash||"":$COMMIT.hash&&(window.location.hash=$COMMIT.hash),delete $COMMIT.update,delete $COMMIT.search,delete $COMMIT.hash)}function killPropagation(a,b,c){try{a=a||window.event,b=b||!0,c=c||!1,a.stopPropagation?(a.stopPropagation(),a.preventDefault()):(a.cancelBubble=b,a.returnValue=c)}catch(d){error("killPropagation",d)}}function isNull(a,b){try{return b==null||b==undefined?a==null||a==undefined||a.length==0:(a?a.length==0:a)||b}catch(c){error("isNull",c)}}function getUniqueId(a){try{var b="";a=a||"";while(!isNull($(a+b)))b=b||0,b++;return{name:a+b,id:b}}catch(c){error("getUniqueId",c)}}function error(a,b){try{$GET("debug")=="true"&&cout("Error in "+a+"\n"+(b.description||b))}catch(b){cout("Error in "+a+"\n"+(b.description||b))}}function cout(a){try{console&&console.log&&console.log(a)}catch(b){error("cout",b)}}function logit(a){cout(a)}function isIE6(){try{var a=IEVersion();return a!=-1&&a<7}catch(b){error("isIE6",b)}}function IEVersion(){try{var a=-1;if(navigator.appName=="Microsoft Internet Explorer"){var b=navigator.userAgent,c=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");c.exec(b)!=null&&(a=parseFloat(RegExp.$1))}return a}catch(d){error("IEVersion",d)}}function isIPad(){try{var a=navigator.userAgent;return/iPad|iPhone OS 3_[1|2]_2/i.test(a)}catch(b){error("isIPad",b)}}function fillTemplate(a,b){try{a=a||"",b=b||{};if(a.trim()=="")return"";for(property in b)if(b.hasOwnProperty(property)&&a!=""&&b[property]!=undefined&&b[property].toString().indexOf("\n")==-1){var c=new RegExp("\\$\\{"+property+"\\}","gi");a=a.replace(c,b[property]).replace(/\$\{dataproperties\}/gi,"data-"+property+"='"+(b[property].toString().indexOf("<")==0?"":b[property])+"' ${dataproperties}")}return a.replace(/\$\{dataproperties\}/gi,"")}catch(d){error("fillTemplate",d)}}function buildQuery(params){try{var query="",invalid=!0,cfield=params.compare.field||"=";for(var i=0;i<params.length;i++){var field=$("txt"+(params[i].field||params[i]).capitalize());!params.required||!field.value,!(params.compare&&/^(<|<=|=|>=|)$>/.test(cfield)&&!eval('"'+field.value+'"'+cfield+'"'+params.compare.field+'"')),query+="&"+(params[i].field||params[i])+"="+field.value}return query}catch(e){error("buildQuery",e)}}function parseBoolean(a){try{return a.isString()?a=="true":a.isNumber()?a==1:undefined}catch(b){error("parseBoolean",b)}}function cacheImages(a){for(var b=0,c=a.length;b<c;b++){var d=document.createElement("img");d.src=a[b]}}var CLICK="click",HANDPOINT="pointer",ONMOUSEDOWN="onmousedown",ONMOUSEUP="onmouseup",POINTER="default",SERVER=window.location.host,WAIT="wait",VISIBLE="visible",HIDDEN="hidden",EVENT_REGISTRY={length:0};EVENT_REGISTRY.Exists=function(a,b,c,d){try{d=d?d:function(){};if(EVENT_REGISTRY[a])for(eri=0;eri<EVENT_REGISTRY[a].length;eri++)if(EVENT_REGISTRY[a][eri][0]==b&&EVENT_REGISTRY[a][eri][1]==c)return d.index=eri,!0;return!1}catch(e){error("EVENT_REGISTRY.Exists",e)}},window._$overwrite=window.$||function(){return undefined},window.$=function(a){try{return!a||a===!0?undefined:document.getElementById(a)||window._$overwrite(a)}catch(b){error("$",b)}},window.$.duplicate=function(a){try{for(prop in a)this[prop]=a[prop]}catch(b){error("$.duplicate",b)}},window.$.duplicate(window._$overwrite),window._showoverwrite=window.show||function(){return undefined},window.show=function(a){try{return document.getElementById(a)&&$(a).show()||a instanceof HTMLElement&&a.show()||window._showoverwrite(a)}catch(b){error("show",b)}},window._hideoverwrite=window.hide||function(){return undefined},window.hide=function(a){try{return document.getElementById(a)&&$(a).hide()||a instanceof HTMLElement&&a.hide()||window._hideoverwrite(a)}catch(b){error("hide",b)}},window._toggleoverwrite=window.toggle||function(){return undefined},window.toggle=function(a){try{return document.getElementById(a)&&$(a).toggle()||a instanceof HTMLElement&&a.toggle()||window._toggleoverwrite(a)}catch(b){error("toggle",b)}};var DOM={addPrototype:function(name,fn,override){try{if(window.HTMLElement)try{var original=override?"":"HTMLElement.prototype."+name+" || ";eval("HTMLElement.prototype."+name+" = "+original+"fn")}catch(e){}else{var _createElement=document.createElement;document.createElement=function(a){var b=_createElement(a);return b[name]||(b[name]=fn),b};var _getElementById=document.getElementById;document.getElementById=function(a){try{var b=_getElementById(a);return isNull(b)?undefined:(b[name]||(b[name]=fn),b)}catch(c){error("getElementById",c)}};var _getElementsByTagName=document.getElementsByTagName;document.getElementsByTagName=function(a){var b=_getElementsByTagName(a);for(var c=0;c<b.length;c++)b[c][name]||(b[c][name]=fn);return b}}}catch(e){error("DOM.addPrototype",e)}}};window.Event&&(Event.prototype.pageX=function(){try{var a=document.documentElement.scrollLeft?document.documentElement.scrollLeft:document.body.scrollLeft;return this.clientX+a}catch(b){return error("pageX",b),undefined}},Event.prototype.getCurrentTarget=function(a){try{if(this.currentTarget)return this.currentTarget;var b=this.srcElement,c=b.id,d=b.parentNode,e=a?a.toString():arguments.callee.caller.toString(),f=e.indexOf("function",0)+8,g=e.indexOf("(",f),h=!1,i=e.substring(f,g).trim();while(c){if(EVENT_REGISTRY.Exists(c,this.type,i))return $(c);c=d.id,d=d.parentNode}return undefined}catch(j){error("getCurrentTarget",j)}}),DOM.addPrototype("moveDown",function(a){try{var b=this;while(!isNull(b.nextSibling)&&(b.nextSibling.nodeType!=1||!a||b.nextSibling.tagName.toLowerCase()!=a))b=b.nextSibling;return isNull(b.nextSibling)?!1:(b.parentNode.insertBefore(b,b.nextSibling.nextSibling),!0)}catch(c){return error("moveDown",c),!1}}),DOM.addPrototype("moveUp",function(a){try{var b=this;while(!isNull(b.previousSibling)&&(b.previousSibling.nodeType!=1||!a||b.previousSibling.tagName.toLowerCase()!=a))b=b.previousSibling;return isNull(b.previousSibling)?!1:(b.parentNode.insertBefore(b,b.previousSibling),!0)}catch(c){return error("moveUp",c),!1}}),DOM.addPrototype("insertAt",function(a,b){try{var c=this.children;return b=b||0,c.length>b?(this.insertBefore(a,c[b]),!0):c.length==b?(this.appendChild(a),!0):!1}catch(d){return error("insertAt",d),!1}}),DOM.addPrototype("insertAfter",function(a){try{var b=a.nextElementSibling.isFunction()?a.nextElementSibling():a.nextElementSibling;return b?a.parentNode.insertBefore(this,b):a.parentNode.appendChild(this),!0}catch(c){return error("insertAfter",c),!1}}),DOM.addPrototype("insertAlphabetically",function(a){try{var b=this.children,c=a.id.toLowerCase(),d=Array();for(var e=0;e<b.length;e++)d[e]=b[e].id.toLowerCase();return d[d.length]=c,d.sort(),d.length>1?this.insertBefore(a,b[d.indexOf(c)]):this.appendChild(a),!0}catch(f){return error("insertAlphabetically",f),!1}}),DOM.addPrototype("remove",function(){try{return this.parentNode.removeChild(this)}catch(a){return error("remove",a),!1}}),DOM.addPrototype("getContainer",function(a){try{var b=this.parentNode;if(a)while(b&&b.tagName.toLowerCase()!=a)b=b.parentNode;return b}catch(c){return error("getContainer",c),!1}}),DOM.addPrototype("children",function(){try{return this.childNodes.filter(function(a){return a.nodeType==1})}catch(a){return error("children",a),!1}}),DOM.addPrototype("firstElementChild",function(){try{var a=this.childNodes;for(var b=0;b<a.length;b++)if(a[b].nodeType==1)return a[b];return!1}catch(c){return error("firstElementChild",c),!1}}),DOM.addPrototype("nextElementSibling",function(){try{var a=this.nextSibling;while(a&&a.nodeType!=1)a=a.nextSibling;return a}catch(b){return error("nextElementSibling",b),!1}}),DOM.addPrototype("hookEvent",function(a,b){try{var c=b.toString(),d=c.indexOf("function",0)+8,e=c.indexOf("(",d),f=c.substring(d,e).trim();return typeof EVENT_REGISTRY[this.id]=="undefined"&&(EVENT_REGISTRY[this.id]=Array(),EVENT_REGISTRY.length++),EVENT_REGISTRY.Exists(this.id,a,f)?!1:(this.attachEvent?(this["e"+a+b]=b,this[a+b]=function(){try{this["e"+a+b]?this["e"+a+b](window.event):this.event.getCurrentTarget(b.toString())&&this.event.getCurrentTarget(b.toString())["e"+a+b](window.event)}catch(c){error("hookEvent.anonymous",g)}},this.attachEvent("on"+a,this[a+b])):this.addEventListener(a,b,!1),EVENT_REGISTRY[this.id][EVENT_REGISTRY[this.id].length]=[a,f],!0)}catch(g){return error("hookEvent",g),!1}}),DOM.addPrototype("unhookEvent",function(a,b){try{var c,d,e,f="",g={};return b&&(c=b.toString(),d=c.indexOf("function",0)+8,e=c.indexOf("(",d),f=c.substring(d,e).trim()),EVENT_REGISTRY.Exists(this.id,a,f,g)&&(EVENT_REGISTRY[this.id].splice(g.index,1),this.detachEvent?(this.detachEvent("on"+a,this[a+b]),this[a+b]=null):this.removeEventListener(a,b,!1),EVENT_REGISTRY[this.id].length<1&&(delete EVENT_REGISTRY[this.id],EVENT_REGISTRY.length--)),!0}catch(h){return error("unhookEvent",h),!1}}),DOM.addPrototype("show",function(){try{return this.tagName.toLowerCase()=="object"?(this.style.visibility="visible",this.height=this.getAttribute("data-height")||this.height,this.width=this.getAttribute("data-width")||this.width,this.removeAttribute("data-height"),this.removeAttribute("data-width")):this.style.display="block",!0}catch(a){return error("show",a),!1}}),DOM.addPrototype("hide",function(){try{return this.tagName.toLowerCase()=="object"?(this.style.visibility="hidden",!parseInt(this.height)||this.setAttribute("data-height",this.height),!parseInt(this.width)||this.setAttribute("data-width",this.width),this.height=0,this.width=0):this.style.display="none",!0}catch(a){return error("hide",a),!1}}),DOM.addPrototype("toggle",function(){try{var a="visibility",b=this.style[a],c=this.parentNode;this.tagName.toLowerCase()=="object"||(a="display");while(c&&!b){if(c.style[a]){b=c.style[a]in{none:"",hidden:""};break}c=c.parentNode}return b?this.show():this.hide(),!0}catch(d){return error("toggle",d),!1}}),DOM.addPrototype("removeClass",function(a){try{var b=this.className.split(" ");return b.splice(b.indexOf(a),1),this.className=b.join(" ").trim(),!0}catch(c){return error("removeClass",c),!1}}),DOM.addPrototype("addClass",function(a){try{var b=this.className.split(" ");return b.indexOf(a)!=-1||b.push(a),this.className=b.join(" ").trim(),!0}catch(c){return error("addClass",c),!1}}),DOM.addPrototype("hasClass",function(a){try{var b=new RegExp("((^)|(\\s+))"+a+"(\\s+|$)");return b.test(this.className)}catch(c){return error("addClass",c),!1}}),DOM.addPrototype("width",function(a){try{return _getDimension(a,"width")}catch(b){return error("width",b),!1}}),DOM.addPrototype("height",function(a){try{return _getDimension(a,"height")}catch(b){return error("height",b),!1}}),DOM.addPrototype("top",function(){try{return this.getClientRects?this.getClientRects()[0].top:this.offsetTop}catch(a){return error("top",a),!1}}),DOM.addPrototype("left",function(){try{return this.getClientRects?this.getClientRects()[0].left:this.offsetLeft}catch(a){return error("left",a),!1}}),DOM.addPrototype("toString",function(){try{var a=document.createElement("div");return a.appendChild(this.cloneNode(!0)),a.innerHTML}catch(b){return error("toString",b),!1}},!0),DOM.addPrototype("getElementsByClassName",function(a,b){try{var c=a.split(/\s+/).map(function(a){return a=a.replace(/([/\\^$*+?.()|[\]{}])/g,"\\$1"),new RegExp("(^|\\s)"+a+"(\\s|$)")}),d=this.getElementsByTagName(b||"*"),e=Array();for(var f=0,g=this.length;f<g;f++){var h=d[f];c.every(function(a){return a.test(h.className)})&&e.push(el)}return e}catch(i){return error("getElementsByClassName",i),!1}}),window.DOMStringMap||DOM.addPrototype("dataset",eval(function(){try{var attributes=this.attributes,ds={};for(var i in attributes)attribute=attributes[i],attribute.name.indexOf("data-")==0&&(ds[attribute.name.substring(5)]=attribute.value);return eval(ds)}catch(e){error("dataset",e)}}())),Array.prototype.filter=Array.prototype.filter||function(a){try{if(!a.isFunction())throw new TypeError;var b=new Array,c=arguments[1]||this;for(var d=0;d<this.length;d++){var e=this[d];a.call(c,e,d,this)&&res.push(e)}return res}catch(f){return!1}},Array.prototype.isEmpty=Array.prototype.isEmpty||function(){try{return this.length==0}catch(a){return error("Array.isEmpty",a),!1}},Array.prototype.indexOf=Array.prototype.indexOf||function(a){try{var b=this.length,c=0;while(c<b){if(this[c]===a)return c;++c}return-1}catch(d){error("Array.indexOf",d)}},Array.prototype.indexOfAlt=Array.prototype.indexOfAlt||function(a,b){try{var c=this.length,d=0;while(d<c){if(b(this[d],a))return d;++d}return-1}catch(e){error("Array.indexOf",e)}},Array.prototype.replaceAt=Array.prototype.replaceAt||function(a,b){try{return this.splice(a,1,b)}catch(c){error("Array.replaceAt",c)}},Array.prototype.insertAfter=Array.prototype.insertAfter||function(a,b){try{return this.splice(a+1,0,b),!0}catch(c){return error("Array.insertAfter",c),!1}},Array.prototype.insertBefore=Array.prototype.insertBefore||function(a,b){try{return this.splice(a,0,b),!0}catch(c){return error("Array.insertBefore",c),!1}},Array.prototype.trim=Array.prototype.trim||function(){try{var a=this.length;for(i=0;i<a;i++)this[i]=this[i].toString().trim()}catch(b){error("Array.trim",b)}},Array.prototype.remove=Array.prototype.remove||function(a,b){try{b=b||this.indexOf;var c=b.call(this,a);return c==-1?!1:this.splice(c,1)}catch(d){error("Array.remove",d)}},Array.prototype.map=Array.prototype.map||function(a,b){try{var c=new Array(this.length);for(var d=0,e=this.length;d<e;d++)d in this&&(c[d]=a.call(b,this[d],d,this));return c}catch(f){error("Array.map",f)}},Array.prototype.every=Array.prototype.every||function(a,b){try{for(var c=0,d=this.length;c<d;c++)if(c in this&&!a.call(b,this[c],c,this))return!1;return!0}catch(e){error("Array.every",e)}},String.prototype.trim=String.prototype.trim||function(){try{var a=this;while(a.charAt(0)==" "||a.charAt(0)=="	"||a.charAt(0)=="\n")a=a.substring(1);while(a.charAt(a.length-1)==" "||a.charAt(0)=="	"||a.charAt(0)=="\n")a=a.substring(0,a.length-1);return a.toString()}catch(b){error("String.trim",b)}},String.prototype.sanitize=String.prototype.sanitize||function(){try{var a=this.replace(/&/gi,"&amp").replace(/#/gi,"&#35").replace(/%/gi,"&#37").replace(/;/gi,"&#59").replace(/\+/gi,"&#43").replace(/\-/gi,"&#45").replace(/\'/gi,"&#39").replace(/\\"/gi,"&#34").replace(/\(/gi,"&#40").replace(/\)/gi,"&#41").replace(/\</gi,"&#60").replace(/\>/gi,"&#62");return a}catch(b){error("XSSCleaner",b)}},String.prototype.isValidEmail=String.prototype.isValidEmail||function(){try{if(!this.isBlank()&&!isNull(this)){var a=/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;return a.test(this)}return!1}catch(b){error("isValidEmail",b)}},String.prototype.isBlank=String.prototype.isBlank||function(){try{return this==""}catch(a){error("XSSCleaner",a)}},String.prototype.capitalize=function(a,b){try{a=a||[0],!a.isArray()&&(a=[a]);var c=b?this.split(" "):[this];for(var d=0;d<a.length;d++)for(var e=0;e<c.length;e++)c[e]=c[e].substring(0,a[d])+c[e].charAt(a[d]).toUpperCase()+c[e].slice(a[d]+1);return c.join(" ")}catch(f){error("capitalize",f)}},String.prototype.toDomElement=function(){try{var a=document.createElement("div"),b;return a.innerHTML=this,b=a.childNodes,b.length==1?b[0]:b}catch(c){error("toDomElement",c)}},addObjectPrototype("itemCount",function(){try{if(this.isObject){var a=0;for(prop in this)this.hasOwnProperty(prop)&&a++;return a}return undefined}catch(b){error("itemCount",b)}}),addObjectPrototype("equals",function(a){try{if(this.isObject()&&a.isObject()){for(prop in a){if(!this.hasOwnProperty(prop))continue;if(this[prop]!==old[prop])return!1}for(prop in this){if(!this.hasOwnProperty(prop))continue;if(this[prop]!==old[prop])return!1}return!0}return this===a}catch(b){error("duplicate",b)}}),addObjectPrototype("duplicate",function(a){try{if(this.isString()||old.isString()||this.isInt()||old.isInt()||this.isFloat()||old.isFloat()||this.isNumber()||old.isNumber())return error("duplicate","invalid type"),!1;for(prop in this)this.hasOwnProperty(prop)&&delete this[prop];for(prop in old)prop.hasOwnProperty(prop)&&(this[prop]=old[prop]);return!0}catch(b){error("duplicate",b)}}),addObjectPrototype("joinLeft",function(a,b){try{if(!this.isObject()&&!a.isObject())return error("joinLeft","invalid type"),!1;for(prop in old){if(!this.hasOwnProperty(prop))continue;(!this[prop]||b)&&(this[prop]=old[prop])}return!0}catch(c){error("joinLeft",c)}}),addObjectPrototype("joinRight",function(a,b){try{if(!this.isObject()&&!a.isObject())return error("joinRight","invalid type"),!1;for(prop in this){if(!this.hasOwnProperty(prop))continue;(!old[prop]||b)&&(old[prop]=this[prop])}return!0}catch(c){error("joinRight",c)}}),addObjectPrototype("innerJoin",function(a,b){try{if(!this.isObject()&&!a.isObject())return error("innerJoin","invalid type"),!1;var c={},b=b||{equal:!0};for(prop in this){if(!this.hasOwnProperty(prop))continue;(b.equal||b.left)&&old[prop]==this[prop]?c[prop]=this[prop]:b.right&&(c[prop]=old[prop])}return!0}catch(d){error("innerJoin",d)}}),addObjectPrototype("toStringAlt",function(a,b){try{a=a||"=",b=b||"";var c="";for(var d in this)this.hasOwnProperty(d)&&(c+=b+d+a+this[d]);return c}catch(e){error("toStringAlt",e)}},!0),addObjectPrototype("isObject",function(){try{return this.constructor==Object}catch(a){error("isObject",a)}}),addObjectPrototype("isGeoposition",function(){try{return this.constructor.toString().indexOf("function Geoposition()")==0}catch(a){error("isGeoposition",a)}}),addObjectPrototype("isString",function(){try{return this.constructor==String}catch(a){error("isString",a)}}),addObjectPrototype("isArray",function(){try{return this.constructor==Array}catch(a){error("isArray",a)}}),addObjectPrototype("isInt",function(){try{return parseInt(this)||parseInt===0}catch(a){error("isInt",a)}}),addObjectPrototype(Object,"isFloat",function(){try{return this.isNumber()&&(parseFloat(this)==this||parseFloat(this)===0)}catch(a){error("isFloat",a)}}),addObjectPrototype("isNumber",function(){try{return this.constructor==Number}catch(a){error("isNumber",a)}}),addObjectPrototype("isDomElement",function(){try{return this.nodeType==1}catch(a){error("isDomElement",a)}}),addObjectPrototype("isFunction",function(){try{return this.constructor==Function}catch(a){error("isFunction",a)}}),addObjectPrototype("isBetween",function(a,b,c){try{return c?this>=a&&this<=b:this>a&&this<b}catch(d){error("isBetween",d)}})